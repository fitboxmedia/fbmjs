"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(e===void 0){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0===g?void 0:g.call(d)},_createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var Ajax=function(){function a(b,c,d,e){_classCallCheck(this,a);var f=this.createXMLHTTPObject();d="string"==typeof d?d:Object.keys(d).map(function(a){return encodeURIComponent(a)+"="+encodeURIComponent(d[a])}).join("&"),"GET"===b&&(c=c+"?"+d),f.onreadystatechange=function(){4===this.readyState&&200===this.status&&"function"==typeof e&&e(this)},f.open(b,c,!0),f.setRequestHeader("X-Requested-With","XMLHttpRequest"),"POST"===b&&f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.send(d)}return _createClass(a,[{key:"createXMLHTTPObject",value:function(){for(var a=!1,b=this.getXMLHttpFactories(),c=0;c<b.length;c++){try{a=b[c]}catch(a){continue}break}return new a}},{key:"getXMLHttpFactories",value:function(){return[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}]}}]),a}(),Unload=function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"enable",value:function(){window.onbeforeunload=function(){}}}]),a}(),Formater=function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"phone",value:function(){var a=document.getElementsByName("phoneNumber")[0];if(void 0!==a&&null!==a){var b={USA:"+1",NOK:"+47",FRA:"+33",CA:"+1",AUS:"+61",SWE:"+46"};a.onfocus=function(){this.value=this.value.length>=b[landingCountry].length?this.value:b[landingCountry],this.selectionStart=this.selectionEnd=this.value.length,this.focus()},a.onmousedown=function(a){this.focus(),a.preventDefault()},a.onkeydown=function(a){return 9===a.keyCode?void 0:8===a.keyCode&&this.value.length<=b[landingCountry].length||32===a.keyCode?void a.preventDefault():void(!isFinite(a.key)&&8!==a.keyCode&&a.preventDefault())}}}}]),a}(),States=function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"getAll",value:function(){var a=document.getElementsByName("state");if(void 0!==a[0]&&null!==a[0]){var b={USA:{AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"},CAN:{AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland and Labrador",NS:"Nova Scotia",NU:"Nunavut",NT:"Northwest Territories",ON:"Ontario",PE:"Prince Edward Island",QC:"Quebec",SK:"Saskatchewan",YT:"Yukon"},NOK:{AK:"Akershus",AA:"Aust-Agder",BU:"Buskerud",FI:"Finnmark",HE:"Hedmark",HO:"Hordaland",SJ:"Svalbard",MR:"M\xF8re og Romsdal",NO:"Nord-Tr\xF8ndelag",NT:"Nordland",OP:"Oppland",OS:"Oslo",RO:"Rogaland",SF:"Sogn og Fjordane",ST:"S\xF8r-Tr\xF8ndelag",TE:"Telemark",TR:"Troms",VA:"Vest-Agder",VF:"Vestfold",OF:"\xD8stfold"},FRA:{"01":"Ain","02":"Aisne","03":"Allier","04":"Alpes-de-Haute-Provence","06":"Alpes-Maritimes","07":"Ard\xE8che","08":"Ardennes","09":"Ari\xE8ge",10:"Aube",11:"Aude",12:"Aveyron",67:"Bas-Rhin",13:"Bouches-du-Rh\xF4ne",14:"Calvados",15:"Cantal",16:"Charente",17:"Charente-Maritime",18:"Cher",CP:"Clipperton",19:"Corr\xE8ze","2A":"Corse-du-Sud",21:"C\xF4te-d'Or",22:"C\xF4tes-d'Armor",23:"Creuse",79:"Deux-S\xE8vres",24:"Dordogne",25:"Doubs",26:"Dr\xF4me",91:"Essonne",27:"Eure",28:"Eure-et-Loir",29:"Finist\xE8re",30:"Gard",32:"Gers",33:"Gironde",68:"Haut-Rhin","2B":"Haute-Corse",31:"Haute-Garonne",43:"Haute-Loire",52:"Haute-Marne",70:"Haute-Sa\xF4ne",74:"Haute-Savoie",87:"Haute-Vienne","05":"Hautes-Alpes",65:"Hautes-Pyr\xE9n\xE9es",92:"Hauts-de-Seine",34:"H\xE9rault",35:"Ille-et-Vilaine",36:"Indre",37:"Indre-et-Loire",38:"Is\xE8re",39:"Jura",40:"Landes",41:"Loir-et-Cher",42:"Loire",44:"Loire-Atlantique",45:"Loiret",46:"Lot",47:"Lot-et-Garonne",48:"Loz\xE8re",49:"Maine-et-Loire",50:"Manche",51:"Marne",53:"Mayenne",YT:"Mayotte",54:"Meurthe-et-Moselle",55:"Meuse",56:"Morbihan",57:"Moselle",58:"Ni\xE8vre",59:"Nord",NC:"Nouvelle-Cal\xE9donie",60:"Oise",61:"Orne",75:"Paris",62:"Pas-de-Calais",PF:"Polyn\xE9sie fran\xE7aise",63:"Puy-de-D\xF4me",64:"Pyr\xE9n\xE9es-Atlantiques",66:"Pyr\xE9n\xE9es-Orientales",69:"Rh\xF4ne",BL:"Saint-Barth\xE9lemy",MF:"Saint-Martin",PM:"Saint-Pierre-et-Miquelon",71:"Sa\xF4ne-et-Loire",72:"Sarthe",73:"Savoie",77:"Seine-et-Marne",76:"Seine-Maritime",93:"Seine-Saint-Denis",80:"Somme",81:"Tarn",82:"Tarn-et-Garonne",TF:"Terres Australes Fran\xE7aises",90:"Territoire de Belfort",95:"Val-d'Oise",94:"Val-de-Marne",83:"Var",84:"Vaucluse",85:"Vend\xE9e",86:"Vienne",88:"Vosges",WF:"Wallis et Futuna",89:"Yonne",78:"Yvelines"},AUS:{NSW:"New South Wales",QLD:"Queensland",SA:"South Australia",TAS:"Tasmania",VIC:"Victoria",WA:"Western Australia",ACT:"Australian Capital Territory",NT:"Northern Territory"},SWE:{K:"Blekinge l\xE4n",W:"Dalarnas l\xE4n",X:"G\xE4vleborgs l\xE4n",I:"Gotlands l\xE4n",N:"Hallands l\xE4n",Z:"J\xE4mtlands l\xE4n",F:"J\xF6nk\xF6pings l\xE4n",H:"Kalmar l\xE4n",G:"Kronobergs l\xE4n",BD:"Norrbottens l\xE4n",T:"\xD6rebro l\xE4n",E:"\xD6sterg\xF6tlands l\xE4n",M:"Sk\xE5ne l\xE4n",D:"S\xF6dermanlands l\xE4n",AB:"Stockholms l\xE4n",C:"Uppsala l\xE4n",S:"V\xE4rmlands l\xE4n",AC:"V\xE4sterbottens l\xE4n",Y:"V\xE4sternorrlands l\xE4n",U:"V\xE4stmanlands l\xE4n",O:"V\xE4stra G\xF6talands l\xE4n"}}[landingCountry],c=this.getState(landingCountry);Object.keys(b).forEach(function(a){c+="<option value=\""+a+"\">"+b[a]+"</option>"}),a[0].innerHTML=c}}},{key:"getState",value:function(a){var b="Select State";return"NOK"===a?b="Velg stat":"FRA"===a?b="S\xE9l\xE9ctionnez la province":void 0,"<option value=\"\">"+b+"</option>"}}]),a}(),Overlay=function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"start",value:function(){var a=document.createElement("div");a.setAttribute("id","overlay"),a.setAttribute("style","left: 0;right: 0;background-color: rgba(45, 45, 45, 0.6);z-index: 999;top: 0;position: fixed;bottom: 0;"),document.body.appendChild(a);var b=document.createElement("div");b.className="loader",a.appendChild(b);var c=document.createElement("style");c.appendChild(document.createTextNode(".loader {margin: 0 auto; margin-top: 20%; border: 8px solid #f3f3f3;border-top: 8px solid #3498db;border-radius: 50%;width: 60px;height: 60px;animation: spin 2s linear infinite;}@keyframes spin {0% { transform: rotate(0deg); }100% { transform: rotate(360deg); }}")),a.appendChild(c)}},{key:"stop",value:function(){var a=document.getElementById("overlay");document.body.removeChild(a)}}]),a}(),Cookie=function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"get",value:function(a){var b=document.cookie.match(new RegExp("(?:^|; )"+a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return b?decodeURIComponent(b[1]):void 0}}]),a}(),Popup=function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"set",value:function(){"undefined"==typeof Storage?document.cookie="popup=visible; path=/;":localStorage.setItem("popup","visible"),this.popUp()}},{key:"get",value:function(){"undefined"==typeof Storage?void 0!==Cookie.get("popup")&&this.popUp():null!==localStorage.getItem("popup")&&this.popUp()}},{key:"popUp",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=document.createElement("div"),c=document.createElement("div"),d={USA:"We've encountered an error while processing your order. Please contact our customer service team at: <br><br>Email: <a href=\"mailto:"+customerEmail+"\" />"+customerEmail+"</a><br>Phone: <span>"+customerPhone+"</span>",CA:"We've encountered an error while processing your order. Please contact our customer service team at: <br><br>Email: <a href=\"mailto:"+customerEmail+"\" />"+customerEmail+"</a><br>Phone: <span>"+customerPhone+"</span>",AUS:"We've encountered an error while processing your order. Please contact our customer service team at: <br><br>Email: <a href=\"mailto:"+customerEmail+"\" />"+customerEmail+"</a><br>Phone: <span>"+customerPhone+"</span>",NOK:"Det oppstod en feil ved behandling av bestillingen din. Ta kontakt med v\xE5r kundeservice via:<br><br>E-post: <a href=\"mailto:"+customerEmail+"\" />"+customerEmail+"</a><br>Telefon: <span>"+customerPhone+"</span>",FRA:"Une erreur est survenue durant votre commande. Merci de contacter notre Service Client au:<br><br>E-mail: <a href=\"mailto:"+customerEmail+"\" />"+customerEmail+"</a><br>T\xE9l\xE9phone: <span>"+customerPhone+"</span>",SWE:"Vi har st\xF6tt p\xE5 ett fel n\xE4r du behandlar din best\xE4llning. V\xE4nligen kontakta v\xE5r kundtj\xE4nst p\xE5: <br><br>E-post: <a href=\"mailto:"+customerEmail+"\" />"+customerEmail+"</a><br>Telefonnummer: <span>"+customerPhone+"</span>"};c.setAttribute("class","notifyOverlay"),b.setAttribute("class","notifyModal"),b.innerHTML=""===a?d[landingCountry]:"<a href=\"javascript:void(0);\" onclick=\"document.getElementsByClassName('notifyOverlay')[0].remove()\" style=\"position: absolute;top: 0;right: 10px;font-weight: bold;color: #ccc;\">\xD7</a><h4 style=\"text-align: center;color: #ce0101;font-family: 'Arial';\">Payment Failed</h4><p style=\"font-size: 20px;font-weight: bold;line-height: 52px;font-family: 'Arial';text-align: center;\">Please, try another card or contact you bank. <br>"+a+"</p>";var e=document.createElement("style");e.appendChild(document.createTextNode(".notifyModal {position: absolute;top: 25%;left: 25%;right: 25%;width: 30%;height: 160px;background: #fff;box-shadow: 0 0 20px rgba(0,0,0,0.7);margin: 0 auto;padding:30px 20px;font-size: 18px;line-height: 28px;border-radius:12px;font-family: 'Times New Roman';}.notifyModal a {text-decoration: none;font-size: 20px;font-family: 'Times New Roman';} .notifyModal span {font-weight: bold;font-size: 20px;font-family: 'Times New Roman';} .notifyOverlay{height: 100%;width: 100%;background: rgba(51, 51, 51, 0.43);position: fixed;top: 0;left: 0;z-index: 9999;} @media (max-width: 860px) { .notifyModal {left: 0;right: 0;width: initial;height: 180px; font-size: 16px;} .notifyModal a {font-size: 16px;}}")),document.body.appendChild(e),c.appendChild(b),document.body.appendChild(c)}}]),a}(),Descriptors=function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"show",value:function(){new Ajax("GET","sdk.php",{action:"descriptor"},function(a){if(a=JSON.parse(a.responseText),"success"===a.status){var b=a.descriptors.join(" ");document.getElementById("descriptors").innerHTML+=b}})}}]),a}(),Error=function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"set",value:function(a){a=document.getElementsByName(a)[0],a.style.border="1px solid red"}},{key:"leadForm",value:function(a){a.style.border="1px solid red";var b=a.nextElementSibling;b&&(a.nextElementSibling.style.visibility="visible")}},{key:"hideLead",value:function(a){a.style.border="1px solid #dfdfdf";var b=a.nextElementSibling;b&&(b.style.visibility="hidden")}},{key:"hideCheckoutForm",value:function(a){for(var b in a){var c=document.getElementsByName(b)[0];"date"==b?(document.getElementsByName("cardMonth")[0].style.border="1px solid #dfdfdf",document.getElementsByName("cardYear")[0].style.border="1px solid #dfdfdf"):c.style.border="1px solid #dfdfdf"}}}]),a}(),Import=function(){function a(b){_classCallCheck(this,a),b.preventDefault(),Overlay.start()}return _createClass(a,[{key:"formToObject",value:function(a){for(var b={},c=0;c<a.length;)""!==a[c].name&&(b[a[c].name]=a[c].value),c++;return b}},{key:"queryServer",value:function(a,b){var c=screen.orientation||screen.mozOrientation||screen.msOrientation;a.screen_orientation=void 0===c?null:c.type,new Fingerprint2({detectScreenOrientation:!0,userDefinedFonts:!1,excludeJsFonts:!1,excludeFlashFonts:!1}).get(function(c,d){a.device_fingerprint=c,Object.keys(d).forEach(function(b){"language"===d[b].key&&(a.language=d[b].value),"resolution"===d[b].key&&(a.screen_resolution=d[b].value[0]+"x"+d[b].value[1]),"timezone_offset"===d[b].key&&(a.timezone_offset=d[b].value),"navigator_platform"===d[b].key&&(a.os=d[b].value),"cpu_class"===d[b].key&&(a.cpu_class="unknown"===d[b].value?null:d[b].value)}),new Ajax("POST","sdk.php",a,b)})}}],[{key:"click",value:function(){var a={pageType:pageType,requestUri:location.href,action:"click"};new Ajax("GET","sdk.php",a,function(a){var b=JSON.parse(a.responseText);if(void 0!==b.pixel&&!1!==b.pixel){var c=document.createElement("div");c.innerHTML=b.pixel,document.body.appendChild(c)}})}}]),a}(),Lead=function(){function a(){_classCallCheck(this,a),this.params=document.querySelectorAll("input, select"),this.form=this.getTestForm(this.params),this.validator=new Validator(this.form),this.validationEvents()}return _createClass(a,[{key:"getTestForm",value:function(a){var b={firstName:{object:a[0],type:"initial"},lastName:{object:a[1],type:"initial"},email:{object:a[2],type:"email"},phoneNumber:{object:a[3],value:a[3].value.substr(1),type:"phone"},address:{object:a[4],type:"address"},city:{object:a[5],type:"city"},state:{object:a[6],type:"field"},country:{object:a[7],type:"field"},postalCode:{object:a[8],type:"postalCode"}};return b}},{key:"submit",value:function(a){var b=new Import(a);if(this.checkValidation()){var c=b.formToObject(this.params);c.action="importLead",c.requestUri=location.href,c.pageType=pageType,c.cookie_enabled=navigator.cookieEnabled,c.do_not_track=navigator.doNotTrack,c.redirect=redirectTo,b.queryServer(c,function(a){Overlay.stop(),a=JSON.parse(a.responseText),"success"===a.status?(Unload.enable(),location.href=redirectTo):"validation_error"===a.status?document.getElementsByName("postalCode")[0].style.border="1px solid red":Popup.set()})}else Overlay.stop()}},{key:"objectValidationCheck",value:function(a,b,c,d){Error.hideLead(b);return!!function(){var e="";return"postalCode"===c?(e=a.validate(c,b.value,d),e):(e=a.validate(c,b.value),e)}()||(Error.leadForm(b),!1)}},{key:"validationEvents",value:function(){var a=this;this.validator.formTypes&&function(){var b=a,c=b.form.country.object.value,d=function(a){b.form[a].object.addEventListener("focusout",function(){b.objectValidationCheck(b.validator,b.form[a].object,b.form[a].type,c)})};for(var e in b.form)d(e)}()}},{key:"checkValidation",value:function(){var a=!1;if(this.validator.formTypes){var b=this.form.country.object.value;for(var c in this.form){var d=this.objectValidationCheck(this.validator,this.form[c].object,this.form[c].type,b);d||(a=!0)}}else a=!0;return!a}}]),a}(),Order=function(a){function b(a){_classCallCheck(this,b);var c=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=document.querySelectorAll("input[name='cardNumber'], input[name='cardSecurityCode'], select[name='cardMonth'], select[name='cardYear']"),e=c.getTestForm(d);return c.validation(e)?(d=document.querySelectorAll("input, select"),e=_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formToObject",c).call(c,d),e.cardNumber=e.cardNumber.split(" ").join(""),e.action="importOrder",e.requestUri=location.href,e.pageType=pageType,e.currency="USD",e.cookie_enabled=navigator.cookieEnabled,e.do_not_track=navigator.doNotTrack,_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"queryServer",c).call(c,e,function(a){Overlay.stop(),a=JSON.parse(a.responseText),"success"===a.status?(Unload.enable(),location.href=redirectTo):void 0===a.messages?Popup.set():Popup.popUp(""===a.messages?" ":a.messages)})):Overlay.stop(),c}return _inherits(b,a),_createClass(b,[{key:"getTestForm",value:function(a){var b={cardNumber:{value:a[0].value.split(" ").join(""),type:"card"},cardSecurityCode:{value:a[3].value,type:"cvv"},date:{month:a[1].value,year:a[2].value,type:"date"}};return b}},{key:"validation",value:function(a){var b=new Validator(a),c=!1;if(b.formTypes){Error.hideCheckoutForm(a);var d=function(d){(function(){var c="";return"date"===d?(c=b.validate(d,a[d].month,a[d].year),c):(c=b.validate(a[d].type,a[d].value),c)})()||(c=!0,"date"===d?(Error.set("cardMonth"),Error.set("cardYear")):Error.set(d))};for(var e in a)d(e)}else c=!0;return!c}}]),b}(Import),Upsell=function(a){function b(a){_classCallCheck(this,b);var c=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=document.querySelectorAll("input"),e=_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formToObject",c).call(c,d);return e.action="importUpsell",e.requestUri=location.href,e.pageType=pageType,e.cookie_enabled=navigator.cookieEnabled,e.do_not_track=navigator.doNotTrack,_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"queryServer",c).call(c,e,function(a){Overlay.stop(),a=JSON.parse(a.responseText),"success"===a.status?(Unload.enable(),location.href=redirectTo):void 0===a.messages?Popup.set():Popup.popUp(""===a.messages?" ":a.messages)}),c}return _inherits(b,a),b}(Import),Construct=function(){function a(){_classCallCheck(this,a),Import.click(),States.getAll(),Popup.get(),Formater.phone(),pageType.indexOf("upsellPage")+1&&(pageType="upsellPage"),this[pageType]()}return _createClass(a,[{key:"leadPage",value:function(){var a=document.getElementById("lead-form");if(void 0!==("undefined"==typeof a?"undefined":_typeof(a))&&null!==a){var b=new Lead;a.addEventListener("submit",function(a){b.submit(a)})}}},{key:"checkoutPage",value:function(){var a=document.getElementById("checkout-form");void 0!==("undefined"==typeof a?"undefined":_typeof(a))&&null!==a?(document.getElementById("productName").value=productName,document.getElementById("productId").value=productId,document.getElementById("productAmount").value=productAmount,document.getElementById("productShipping").value=productShipping,a.addEventListener("submit",function(a){new Order(a)}),Unload.enable()):"undefined"==typeof a&&(history.pushState(null,null,location.href),window.onpopstate=function(){history.go(1)},window.onbeforeunload=function(){return!1})}},{key:"upsellPage",value:function(){var a=document.getElementById("upsell");if(void 0!==("undefined"==typeof a?"undefined":_typeof(a))&&null!==a){document.getElementById("productName").value=productName,document.getElementById("productId").value=productId,document.getElementById("productAmount").value=productAmount,document.getElementById("productShipping").value=productShipping,a.addEventListener("submit",function(a){new Upsell(a)});var b=document.getElementById("no-upsell-link");b.addEventListener("click",function(){Unload.enable()})}}},{key:"thankyouPage",value:function(){void 0!==pageType&&"thankyouPage"===pageType&&Descriptors.show()}}]),a}();window.onload=function(){new Construct};var Validator=function(){function a(b){_classCallCheck(this,a),this.formTypes=!1,this.regularExpression={initial:/^[A-zÀ-ÿA-åА-я.\-']{3,32}$/,email:/^([a-z0-9!#$%&'*+\-/=?^_`{|}~][.]{0,1}){1,63}[a-z0-9!#$%&'*+\-/=?^_`{|}~]@[a-z0-9][a-z0-9.\-]{1,63}[a-z0-9]\.[a-z]{2,4}$/i,phone:/^[\+0-9]{8,15}$/,address:/^[0-9]{0,127}([A-zÀ-ÿA-åА-я#.,;:"'°/\-]+[0-9]*[\s]{0,1}){3,127}[0-9A-zÀ-ÿA-åА-я#.,;:"'°]$/,city:/^[A-zÀ-ÿA-åА-я]([A-zÀ-ÿA-åА-я/\-\)\(.\"\'][\s]{0,1}){1,126}[A-zÀ-ÿA-åА-я]$/,cvv:/^[0-9]{3,4}$/,postalCode:{US:/^\d{5}$|^\d{5}-\d{4}$/,CA:/^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} *\d{1}[A-Z]{1}\d{1}$/,FR:/^[0-9]{5}$/,AU:/^[0-9]{4}$/}};var c=["initial","email","phone","address","city","field","postalCode","cvv","card","date"];for(var d in b){for(var e=!0,f=0;f<c.length;f++)if(c[f]===b[d].type){e=!1;break}if(!e)this.formTypes=!0;else{this.formTypes=!1;break}}}return _createClass(a,[{key:"validate",value:function(a,b,c){if("undefined"!=typeof c)return c=c.trim(),this[a](b,c);try{return this.regularExpression[a].test(b)}catch(c){return this[a](b)}}},{key:"field",value:function(a){return 0!==a.trim().length}},{key:"postalCode",value:function(a,b){return!(0<=["US","CA","FR","AU"].indexOf(b))||this.regularExpression.postalCode[b].test(a)}},{key:"card",value:function(a){if(16>a.trim().length)return!1;var b=[],c=a.toString();if(16>c.length)return!1;if(!isFinite(parseInt(+c)))return!1;for(var d=0;d<c.length;d++)if(0==d%2){var e=2*parseInt(c[d]);9<e?b.push(e-9):b.push(e)}else{var f=parseInt(c[d]);b.push(f)}var g=b.reduce(function(c,a){return c+a});return!!!(g%10)}},{key:"date",value:function a(b,c){var a=new Date;return!(b<=("0"+(a.getMonth()+1)).slice(-2)&&c<=a.getFullYear())}}]),a}();